package com.tingkai.overwatch.items;

import java.util.ArrayList;

import com.tingkai.overwatch.Config;
import com.tingkai.overwatch.Overwatch;
import com.tingkai.overwatch.hero.EnumHero;

import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraftforge.fml.common.registry.GameRegistry;

public class ModItems
{
	public static ArrayList<Item> jsonModelItems = new ArrayList<Item>();
	public static ArrayList<Item> objModelItems = new ArrayList<Item>();

	//public static Item genji_shuriken_single; // used for projectile

	public static void preInit()
	{
		for (EnumHero hero : EnumHero.values())
		{
			hero.material = EnumHelper.addArmorMaterial(hero.name.toLowerCase(), Overwatch.MODNAME + ":" + hero.name.toLowerCase(), 20, hero.armorReductionAmounts, 0, SoundEvents.ITEM_ARMOR_EQUIP_GENERIC, 0);
			hero.helmet = (ItemModArmor) registerItem(new ItemMWArmor(hero, hero.material, 0, EntityEquipmentSlot.HEAD), hero.name.toLowerCase() + "_helmet", true, false);
			hero.chestplate = (ItemModArmor) registerItem(new ItemMWArmor(hero, hero.material, 0, EntityEquipmentSlot.CHEST), hero.name.toLowerCase() + "_chestplate", true, false);
			hero.leggings = (ItemModArmor) registerItem(new ItemMWArmor(hero, hero.material, 0, EntityEquipmentSlot.LEGS), hero.name.toLowerCase() + "_leggings", true, false);
			hero.boots = (ItemModArmor) registerItem(new ItemMWArmor(hero, hero.material, 0, EntityEquipmentSlot.FEET), hero.name.toLowerCase() + "_boots", true, false);
			hero.weapon = (ItemModWeapon) registerItem(hero.weapon, hero.name.toLowerCase() + "_weapon", true, true);
			hero.token = (ItemModToken) registerItem(new ItemMWToken(), hero.name.toLowerCase() + "_token", true, false);
		}

		//genji_shuriken_single = registerItem(new ItemGenjiShuriken(), "genji_shuriken_single", false, true);
		//((ItemGenjiShuriken) genji_shuriken_single).hero = EnumHero.GENJI;
	}

	private static Item registerItem(Item item, String unlocalizedName, boolean addToTab, boolean usesObjModel)
	{
		if (usesObjModel && Config.useObjModels)
			{objModelItems.add(item);}
		else
			{jsonModelItems.add(item);}
		item.setUnlocalizedName(unlocalizedName);
		item.setRegistryName(Overwatch.MODID, unlocalizedName);
		if (addToTab)
		{
			item.setCreativeTab(Overwatch.tab);
			Overwatch.tab.orderedStacks.add(new ItemStack(item));
		}
		GameRegistry.register(item);
		return item;
	}

}
