package com.tingkai.overwatch.entities;

import com.tingkai.overwatch.Overwatch;

import net.minecraft.entity.EntityLivingBase;
import net.minecraft.world.World;

public class EntityGenjiShuriken extends EntityModThrowable
{
	public EntityGenjiShuriken(World worldIn)
	{
		super(worldIn);
		this.setSize(0.1f, 0.1f);
	}
	
	public EntityGenjiShuriken(World worldIn, EntityLivingBase thrower)
	{
		super(worldIn, thrower);
		this.setNoGravity(true);
		this.lifetime = 40;
	}
	
	@Override
	public void onUpdate()
	{
		super.onUpdate();
		
		if (this.world.isRemote)
		{
			int num = (int) ((Math.abs(motionX)+Math.abs(motionY)+Math.abs(motionZ))*30d);
			for (int i = 0; i < num; i++)
			{
				Overwatch.proxy.spawnParticlesTrail(this.world, this.posX+(this.prevPosX-this.posX)*i/num+world.rand.nextDouble()*0.05d, this.posY+this.height/2+(this.prevPosY-this.posY)*i/num+world.rand.nextDouble()*0.05d, this.posZ+(this.prevPosZ-this.posZ)*i/num+world.rand.nextDouble()*0.05d, 0, 0, 0, 0xC8E682, 0x709233, 0.5f, 4, 1);
			}
		}
	}
}
